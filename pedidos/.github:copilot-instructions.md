# Instrucciones para GitHub Copilot - Proyecto Sequoia Speed

## ðŸš€ ConfiguraciÃ³n SSH Optimizada

### **IMPORTANTE: SIEMPRE USAR SSH REMOTO**
- Todas las pruebas, debugging, ensayos deben hacerse en el servidor remoto
- NO hacer pruebas en local (no hay MySQL instalado localmente)
- Siempre iniciar sesiÃ³n SSH antes de hacer cualquier prueba

### **MÃ©todos SSH Configurados (SIN WARNINGS):**

#### **MÃ©todo 1: Alias SSH (RECOMENDADO) âœ…**
```bash
ssh sequoia "comando"
```

#### **MÃ©todo 2: Script personalizado**
```bash
cd /Users/ronaldinfante/Documents/pedidos
./ssh-sequoia.sh "comando"
```

#### **MÃ©todo 3: Comando completo (manual)**
```bash
ssh -i /users/ronaldinfante/id_rsa -o MACs=hmac-sha2-256 \
    -o SetEnv="LANG=C.UTF-8,LC_ALL=C.UTF-8,LANGUAGE=C.UTF-8" \
    motodota@68.66.226.124 -p 7822 "comando"
```

### **ConfiguraciÃ³n SSH en ~/.ssh/config:**
```ssh
Host sequoia
    HostName 68.66.226.124
    Port 7822
    User motodota
    IdentityFile /users/ronaldinfante/id_rsa
    MACs hmac-sha2-256
    ServerAliveInterval 30
    ServerAliveCountMax 3
    ConnectTimeout 10
    SetEnv LANG=C.UTF-8
    SetEnv LC_ALL=C.UTF-8
    SetEnv LANGUAGE=C.UTF-8
```

## ðŸ“‚ Estructura del Proyecto

### **Directorio de trabajo remoto:**
```
~/sequoiaspeed.com.co/pedidos/
```

### **Archivos principales del sistema Bold:**
- `bold_webhook_enhanced.php` - Webhook principal activo
- `bold_hash.php` - Generador de hash (verificado âœ…)
- `bold_payment.php` - Ventana de pago universal
- `index.php` - Formulario principal
- `bold_notification_system.php` - Sistema de notificaciones

### **Archivos de prueba creados:**
- `test_flujo_completo_bold.html` - Test integral de 3 mÃ©todos
- `bold_system_status.php` - Verificador de estado
- `bold_webhook_test.php` - Webhook de prueba sin BD
- `bold_webhook_hybrid.php` - Webhook hÃ­brido

## ðŸ“‹ Reglas de Trabajo

1. **SIEMPRE usar el alias SSH:** `ssh sequoia "comando"`
2. **Directorio de trabajo:** Cambiar a `~/sequoiaspeed.com.co/pedidos/`
3. **DocumentaciÃ³n:** Guardar en carpeta "otros"
4. **Pruebas:** Solo en servidor remoto, nunca local
5. **VerificaciÃ³n:** Sistema Bold 100% funcional (verificado 06/06/2025)

## ðŸŽ¯ Estado del Sistema (Ãšltima verificaciÃ³n: 06/06/2025)

### **âœ… MÃ‰TODOS DE PAGO VERIFICADOS:**
- PSE Bold: Funcionando sin fallos
- BotÃ³n Bancolombia: Funcionando sin fallos  
- Tarjeta CrÃ©dito/DÃ©bito: Funcionando sin fallos

### **âœ… COMPONENTES ACTIVOS:**
- Hash Generator: âœ…
- Webhook Enhanced: âœ…
- Sistema de Notificaciones: âœ…
- Logs del sistema: âœ…
- SMTP Config: âœ…

### **Ejemplo de uso comÃºn:**
```bash
# Verificar sistema Bold
ssh sequoia "cd ./sequoiaspeed.com.co/pedidos/ && php bold_system_status.php"

# Probar hash generator
ssh sequoia "cd ./sequoiaspeed.com.co/pedidos/ && curl -s -X POST https://sequoiaspeed.com.co/pedidos/bold_hash.php -H 'Content-Type: application/json' -d '{\"amount\":50000,\"currency\":\"COP\",\"order_id\":\"TEST_001\",\"description\":\"Prueba\"}'"

# Ver logs mÃ¡s recientes
ssh sequoia "cd ./sequoiaspeed.com.co/pedidos/logs && ls -la | tail -5"
```icpg1252\cocoartf2822
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fmodern\fcharset0 Courier;}
{\colortbl;\red255\green255\blue255;\red0\green0\blue0;}
{\*\expandedcolortbl;;\cssrgb\c0\c0\c0;}
\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\partightenfactor0

\f0\fs26 \cf0 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 Todas las pruebas, debugging, ensayos, todos deben hacerse remoto, inicia sesi\'f3n ssh primero antes de hacer pruebas no hagas pruebas en local, en local no tengo mysql instalado\
\
ssh -i \outl0\strokewidth0 /Users/ronaldinfante/Documents/id_rsa\outl0\strokewidth0 \strokec2  -o MACs=hmac-sha2-256 motodota@68.66.226.124 -p 7822\
\
Todas las pruebas que hagas y archivos de documentaci\'f3n se deben guardar dentro de la carpeta \'93otros\'94\
}